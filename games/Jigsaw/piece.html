<style>
  .shadow {
    /* filter: drop-shadow( 10px 10px black ); */
  }
  .piece {
    position: absolute;
    /* background-image: url(https://asset.bloomnation.com/c_pad,d_vendor:global:catalog:product:image.png,f_auto,fl_preserve_transparency,q_auto/v1605326787/vendor/364/catalog/product/s/h/shutterstock_90055534_30.jpg);
    width: 150px;
    height: 150px; */
  }
</style>
<body>
</body>

<script>

  const shadows = document.createElement( 'div' );
  shadows.className = 'shadow';
  document.body.appendChild( shadows );

  const image = '';

  // NOTE: Array looks like:
  //   N
  //  W E
  //   S 
  const cols = 3, rows = 3;
  const offsets = [
      [  25, 25 ],
    [ -25, 25, -25 ],
      [ -25, -25 ],
    [ -25, 25, 25 ],
      [  25, -25 ],
  ];

  for ( let row = 0; row < rows; row ++ ) {
    for ( let col = 0; col < cols; col ++ ) {

      const top = row == 0 ? 0 : offsets[ row * 2 - 1 ][ col ];
      const left = col == 0 ? 0 : offsets[ row * 2 ][ col - 1 ];
      const right = col == cols - 1 ? 0 : offsets[ row * 2 ][ col ];
      const bottom = row == rows - 1 ? 0 : offsets[ row * 2 + 1 ][ col ];

      const north =  top == 0 ? 'l 100,0' : `l  40,0 c -10,${ top } 30,${ top } 20,0 l 40,0`;
      const east = right == 0 ? 'l 0,100' : `l  0,40 c ${ right },-10 ${ right },30 0,20 l 0,40`;
      const south = bottom == 0 ? 'l -100,0' : `l -40,0 c 10,${ bottom } -30,${ bottom } -20,0 l -40,0`;
      const west = left == 0 ? 'l 0,-100' : `l   0,-40 c ${ left },10 ${ left },-30 0,-20 l 0,-40`;

      const path = `M ${ col * 100 },${ row * 100 } ${ north } ${ east } ${ south } ${ west }`;

      const piece = document.createElement( 'img' );
      piece.className = 'piece';
      piece.src = 'https://asset.bloomnation.com/c_pad,d_vendor:global:catalog:product:image.png,f_auto,fl_preserve_transparency,q_auto/v1605326787/vendor/364/catalog/product/s/h/shutterstock_90055534_30.jpg'
      piece.style.clipPath = `path(' ${ path } ')`;
      //piece.style.backgroundPositionX = `${ -col * 100 }px`;
      //piece.style.backgroundPositionY = `${ -row * 100 }px`;
      piece.style.transform = `translate( ${ col * 25 }px, ${ row * 25 }px )`;
      shadows.appendChild( piece );
    }
  }
  
</script>